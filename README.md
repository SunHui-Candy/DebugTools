## DataSecurity-Encryption

iOSæ•°æ®å®‰å…¨-->base64ã€md5ã€AESã€DESã€RSA

ç›¸ä¿¡å¾ˆå¤šå¼€å‘è€…è·Ÿæˆ‘å½“åˆä¸€æ ·ï¼Œåªæ˜¯æ ¹æ®é¡¹ç›®ç»ç†æˆ–è€…æ–‡æ¡£æŒ‡ç¤ºè¿›è¡ŒåŠ å¯†ï¼Œç®€å•ä¼šä½¿ç”¨ ä½†å¹¶ä¸çŸ¥é“åŠ å¯†çŸ¥è¯†ä½“ç³»å’Œå†…åœ¨åŸç†ï¼Œäºæ˜¯æ•´ç†äº†ä¸€ä»½ç›¸å…³èµ„æ–™ï¼Œ  

æœ¬ç¯‡æ–‡ç« ä¸»è¦ä»ã€iOS å¼€å‘å¸¸è§åŠ å¯†ã€‘å­¦ä¹ æ€»ç»“ï¼Œæ–¹æ³•éƒ½ä»¥å°è£…æˆç±»å¯ä»¥ç›´æ¥æ‹¿èµ°è°ƒç”¨ã€‚  

åœ¨ã€Œæ—¶é—´ & çŸ¥è¯† ã€æœ‰é™å†…ï¼Œæ€»ç»“çš„æ–‡ç« éš¾å…æœ‰ã€Œæœªå…¨ã€ä¸è¶³ ã€çš„åœ°æ–¹ï¼Œè¿˜æœ›å„ä½å¥½å‹æŒ‡å‡ºï¼Œä»¥æé«˜æ–‡ç« è´¨é‡ã€‚

## encryptionã€åŠ å¯†ä»‹ç»ã€‘

æ•°æ®å®‰å…¨çš„åŸåˆ™
- åœ¨ç½‘ç»œä¸Š`ä¸å…è®¸`ä¼ è¾“ç”¨æˆ·éšç§æ•°æ®çš„`æ˜æ–‡`,ï¼ˆå³:Appç½‘ç»œä¼ è¾“å®‰å…¨ï¼ŒæŒ‡å¯¹æ•°æ®ä»å®¢æˆ·ç«¯ä¼ è¾“åˆ°Serverä¸­é—´è¿‡ç¨‹çš„åŠ å¯†ï¼Œé˜²æ­¢ç½‘ç»œä¸–ç•Œå½“ä¸­å…¶ä»–èŠ‚ç‚¹å¯¹æ•°æ®çš„çªƒå¬ï¼‰ã€‚

- åœ¨æœ¬åœ°`ä¸å…è®¸`ä¿å­˜ç”¨æˆ·éšç§æ•°æ®çš„`æ˜æ–‡`,ï¼ˆå³:Appæ•°æ®å­˜å‚¨å®‰å…¨ï¼Œä¸»è¦æŒ‡åœ¨ç£ç›˜åšæ•°æ®æŒä¹…åŒ–çš„æ—¶å€™æ‰€åšçš„åŠ å¯†ï¼‰ã€‚

- Appä»£ç å®‰å…¨,ï¼ˆå³:åŒ…æ‹¬ä»£ç æ··æ·†ï¼ŒåŠ å¯†æˆ–è€…appåŠ å£³ï¼‰ã€‚

### å¸¸ç”¨åŠ å¯†ç®—æ³•

|å¸¸ç”¨åŠ å¯†ç®—æ³• | åç§° |
|:-: |:-:|
| ç¼–ç æ–¹æ¡ˆ | Base64 |
| å“ˆå¸Œ(æ•£åˆ—)å‡½æ•° | MD5 |
|   | SHA1 |
|   | SHA256 |
| å¯¹ç§°åŠ å¯†ç®—æ³• | AES |
|  | DES |
| éå¯¹ç§°åŠ å¯†ç®—æ³• | RSA |
| HTTPS | HTTP+SSLåŠ å¯†åè®® |

### å¸¸ç”¨åŠ å¯†æ–¹å¼

- 1ã€é€šè¿‡ç®€å• `BASE64`ç¼–ç  é˜²æ­¢æ•°æ®æ˜æ–‡ä¼ è¾“ã€‚

- 2ã€å¯¹æ™®é€šè¯·æ±‚ã€è¿”å›æ•°æ®ï¼Œç”Ÿæˆ`MD5`æ ¡éªŒï¼ˆMD5ä¸­åŠ å…¥åŠ¨æ€å¯†é’¥ï¼‰ï¼Œè¿›è¡Œæ•°æ®å®Œæ•´æ€§ï¼ˆç®€å•é˜²ç¯¡æ”¹ï¼Œå®‰å…¨æ€§è¾ƒä½ï¼Œä¼˜ç‚¹ï¼šå¿«é€Ÿï¼‰æ ¡éªŒã€‚

- 3ã€å¯¹äºé‡è¦æ•°æ®ï¼Œä½¿ç”¨`RSA`è¿›è¡Œæ•°å­—ç­¾åï¼Œèµ·åˆ°é˜²ç¯¡æ”¹ä½œã€‚

- 4ã€å¯¹äºæ¯”è¾ƒæ•æ„Ÿçš„æ•°æ®ï¼Œå¦‚ç”¨æˆ·ä¿¡æ¯ï¼ˆç™»é™†ã€æ³¨å†Œç­‰ï¼‰ï¼Œå®¢æˆ·ç«¯å‘é€ä½¿ç”¨`RSA`åŠ å¯†ï¼ŒæœåŠ¡å™¨è¿”å›ä½¿ç”¨`DES(AES)`åŠ å¯†ã€‚

- 5ã€è¦æƒ³éå¸¸å®‰å…¨çš„ä¼ è¾“æ•°æ®ï¼Œå»ºè®®ä½¿ç”¨`https`ã€‚æŠ“åŒ…ä¸å¯ä»¥ï¼Œä½†æ˜¯ä¸­é—´äººæ”»å‡»åˆ™æœ‰å¯èƒ½ã€‚å»ºè®®åŒå‘éªŒè¯é˜²æ­¢ä¸­é—´äººæ”»å‡»ã€‚



### MACä¸Šç”Ÿæˆå…¬é’¥ã€ç§é’¥çš„æ–¹æ³•ï¼ŒåŠä½¿ç”¨

- 1.æ‰“å¼€ç»ˆç«¯ï¼Œåˆ‡æ¢åˆ°è‡ªå·±æƒ³è¾“å‡ºçš„æ–‡ä»¶å¤¹ä¸‹

- 2.è¾“å…¥æŒ‡ä»¤ï¼Œ`openssl`ï¼ˆ`openssl`æ˜¯ç”Ÿæˆå„ç§ç§˜é’¥çš„å·¥å…·ï¼Œ`mac`å·²ç»åµŒå…¥)

- 3.è¾“å…¥æŒ‡ä»¤ï¼Œ`genrsa -out rsa_private_key.pem 1024` (ç”Ÿæˆç§é’¥ï¼Œjavaç«¯ä½¿ç”¨çš„)

- 4.è¾“å…¥æŒ‡ä»¤ï¼Œ`rsa -in rsa_private_key.pem -out rsa_public_key.pem -pubout` (ç”Ÿæˆå…¬é’¥)

- 5.è¾“å…¥æŒ‡ä»¤ï¼Œ`pkcs8 -topk8 -in rsa_private_key.pem -out pkcs8_rsa_private_key.pem -nocrypt`(ç§é’¥è½¬æ ¼å¼ï¼Œåœ¨`ios`ç«¯ä½¿ç”¨ç§é’¥è§£å¯†æ—¶ç”¨è¿™ä¸ªç§é’¥)

**æ³¨æ„**: åœ¨MACä¸Šç”Ÿæˆä¸‰ä¸ª`.pem`æ ¼å¼çš„æ–‡ä»¶ï¼Œä¸€ä¸ªå…¬é’¥ï¼Œä¸¤ä¸ªç§é’¥ï¼Œéƒ½å¯ä»¥åœ¨ç»ˆç«¯é€šè¿‡æŒ‡ä»¤`vim xxx.pem` æ‰“å¼€ï¼Œé‡Œé¢æ˜¯å­—ç¬¦ä¸²ï¼Œç¬¬ä¸‰æ­¥ç”Ÿæˆçš„ç§é’¥æ˜¯`java`ç«¯ç”¨æ¥è§£å¯†æ•°æ®çš„ï¼Œç¬¬äº”æ­¥è½¬æ¢æ ¼å¼çš„ç§é’¥iOSç«¯å¯ä»¥ç”¨æ¥è°ƒè¯•å…¬é’¥ã€ç§é’¥è§£å¯†ï¼ˆå› ä¸ºç§é’¥ä¸ç•™åœ¨å®¢æˆ·ç«¯ï¼‰  

`iOS`ç«¯å…¬é’¥åŠ å¯†ç§é’¥è§£å¯†ã€`java`ç«¯å…¬é’¥åŠ å¯†ç§é’¥è§£å¯†ï¼Œ`java`ç«¯ç§é’¥åŠ å¯†å…¬é’¥è§£å¯†éƒ½å®¹æ˜“åšåˆ°ï¼Œ`iOS`ä¸èƒ½ç§é’¥åŠ å¯†å…¬é’¥è§£å¯†ï¼Œåªèƒ½ç”¨äºéªŒç­¾


## Getting Startedã€å¼€å§‹ä½¿ç”¨ã€‘

**ios-->Base64ç¼–ç ã€è§£ç ï¼Œæ–¹æ³•ä½ æ‹¿èµ°**
```objc
1ã€å¯¼å…¥#import "NSString+Hash.h"

2ã€å¯¹å­—ç¬¦ä¸²è¿›è¡Œbase64ç¼–ç ,å¹¶ä¸”è¿”å›
- (NSString *)base64EncodeString;

3ã€å¯¹base64ç¼–ç ä¹‹åçš„å­—ç¬¦ä¸²è§£ç ,å¹¶ä¸”è¿”å›
-(NSString *)base64DecodeString;
```

**ios-->Md5åŠ å¯†ï¼Œæ–¹æ³•ä½ æ‹¿èµ°**
```objc
1ã€å¯¼å…¥#import "NSString+Hash.h"

2ã€æ•£åˆ—å‡½æ•°--md5å¯¹å­—ç¬¦ä¸²åŠ å¯†
- (NSString *)md5String;

æ•£åˆ—å‡½æ•°--HMAC md5åŠ å¯†
- (NSString *)hmacMD5StringWithKey:(NSString *)key;

æ•£åˆ—å‡½æ•°--md5å¯¹æ–‡ä»¶åŠ å¯†
- (NSString *)fileMD5Hash;
```

**ios-->DESåŠ å¯†ã€è§£å¯†ï¼Œæ–¹æ³•ä½ æ‹¿èµ°**
```objc
1ã€å¯¼å…¥#import "DES3Util.h"

2ã€DESåŠ å¯†å­—ç¬¦ä¸²å¹¶è¿”å›base64ç¼–ç å­—ç¬¦ä¸²
+(NSString *) encryptUseDES:(NSString *)string keyString:(NSString *)keyString;

3ã€DESè§£å¯†å­—ç¬¦ä¸²
+(NSString *)decryptUseDES:(NSString *)base64EncodedString keyString:(NSString *)keyString;
```

**ios-->AESåŠ å¯†ã€è§£å¯†ï¼Œæ–¹æ³•ä½ æ‹¿èµ°**
```objc
1ã€å¯¼å…¥#import "AES.h"

2ã€AESåŠ å¯†å­—ç¬¦ä¸²å¹¶è¿”å›base64ç¼–ç å­—ç¬¦ä¸²
+ (NSString *)encrypt:(NSString *)string keyString:(NSString *)keyString;

3ã€AESè§£å¯†å­—ç¬¦ä¸²
+ (NSString *)decrypt:(NSString *)base64EncodedString keyString:(NSString *)keyString;
```

**ios-->RSAåŠ å¯†ã€è§£å¯†ï¼Œæ–¹æ³•ä½ æ‹¿èµ°**
```objc
1ã€å¯¼å…¥#import "RSAUtil.h"

2ã€å…¬é’¥åŠ å¯†ç±»æ–¹æ³•ï¼š
+ (NSString *)encryptString:(NSString *)str publicKey:(NSString *)pubKey;
+ (NSData *)encryptData:(NSData *)data publicKey:(NSString *)pubKey;

3ã€ç§é’¥è§£å¯†ç±»æ–¹æ³•
+ (NSString *)decryptString:(NSString *)str privateKey:(NSString *)privKey;
+ (NSData *)decryptData:(NSData *)data privateKey:(NSString *)privKey;
```

## æ•ˆæœå›¾
![iOSæ•°æ®å®‰å…¨ç›¸å…³.gif](http://upload-images.jianshu.io/upload_images/2230763-5ff2f3b6e380f7f7.gif?imageMogr2/auto-orient/strip)


å¯¹äºæ•°æ®å®‰å…¨æœ‰å¤ªå¤šçš„ä¸œè¥¿å€¼å¾—æˆ‘ä»¬å»å­¦ä¹ æ¨æ•²ï¼Œæ–¹æ–¹é¢é¢éƒ½é€éœ²ç€æ•°æ®å®‰å…¨çš„é‡è¦æ€§ å’Œ æˆ‘ä»¬å­¦ä¹ çš„å¿…è¦æ€§ã€‚

[é™„ä¸Šæ€»ç»“å†™çš„å°æ · Demoï¼Œé‡è¦çš„éƒ¨åˆ†ä»£ç ä¸­éƒ½æœ‰ç›¸åº”çš„æ³¨è§£å’Œæ–‡å­—æ‰“å°ï¼Œè¿è¡Œç¨‹åºå¯ä»¥å¾ˆç›´è§‚çš„è¡¨ç°]()  



## æœŸå¾…

- å¦‚æœåœ¨é˜…è¯»è¿‡ç¨‹ä¸­é‡åˆ° errorï¼Œå¸Œæœ›ä½ èƒ½ Issues æˆ‘ï¼Œè°¢è°¢ã€‚

- å¦‚æœä½ æƒ³ä¸ºã€æœ¬æ–‡ç›¸å…³ã€‘åˆ†äº«ç‚¹ä»€ä¹ˆï¼Œä¹Ÿå¸Œæœ›ä½ èƒ½ Issues æˆ‘ï¼Œæˆ‘éå¸¸æƒ³ä¸ºè¿™ç¯‡æ–‡ç« å¢åŠ æ›´å¤šå®ç”¨çš„å†…å®¹ï¼Œè°¢è°¢ã€‚

- [åšå®¢åŸæ–‡](https://custompbwaters.github.io/2016/07/15/iOSã€ŒUI%20+%20NETã€/iOSæ•°æ®å®‰å…¨â€”åŠ å¯†è§£å¯†/)ã€[ç®€ä¹¦åŸæ–‡](http://www.jianshu.com/p/1a7d57b60778)ï¼Œå¯¹æœ¬æ–‡æˆ‘ä¼šã€ä¸å®šæ—¶ã€æŒç»­æ›´æ–°ã€ä¸€äº› å­¦ä¹ å¿ƒå¾—ä¸æ–‡ç« ã€å®ç”¨æ‰æ˜¯ç¡¬é“ç†ã€‘^_^.





## About me

ã€æˆ‘ä¹Ÿæ˜¯å¯¹æ‰€èŠ±è´¹æ—¶é—´çš„ä¸€ä¸ªæ€»ç»“ã€‘

æˆ‘åªæ˜¯ä¸ªã€æœ‰æ€æƒ³çš„ä¼ç çŒ¿ğŸ’ã€‘åŠ ä¸Šã€è‡ªå·±çš„å­¦ä¹ æ€»ç»“â˜•ï¸ã€‘å†™å‡ºæ¥çš„æ–‡ç« ã€‚


![â†‘ ã€Šä¼ç å§ã€‹ --> "å…„å¼Ÿ"   â†‘ å¯å¦å¸®æˆ‘è¾¾åˆ° 100çš„ç›®æ ‡ ï¼Œè°¢è°¢ ](http://upload-images.jianshu.io/upload_images/2230763-6746b831e7f456f6.gif?imageMogr2/auto-orient/strip)

